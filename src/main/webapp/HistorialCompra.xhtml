<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="jakarta.faces.html" xmlns:f="jakarta.faces.core">
    <h:head>
        <title>Historial de Compras</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <style>
            body {
                background-color: #f4f4f4;
                padding: 20px;
            }
            .container {
                background: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            }
            .filter-container {
                margin-bottom: 20px;
                display: flex;
                gap: 10px;
            }
            .table-container {
                overflow-x: auto;
            }
        </style>
    </h:head>
    <h:body>
        <div class="container">
            <h2 class="text-center">Historial de Compras</h2>
            <h:form>
                <!-- Filtros -->
                <div class="filter-container">
                    <h:inputText value="#{historialComprasBean.filtroIdPedido}" 
                                 
                                 class="form-control" />
                    <h:inputText value="#{historialComprasBean.filtroFecha}" 
                                 
                                 class="form-control" />
                    <h:inputText value="#{historialComprasBean.filtroEstado}" 
                                 
                                 class="form-control" />
                    <h:commandButton value="Filtrar" 
                                     action="#{historialComprasBean.filtrarCompras}" 
                                     class="btn btn-primary" />
                </div>
                
                <!-- Tabla de compras -->
                <div class="table-container">
                    <h:dataTable value="#{historialComprasBean.comprasFiltradas}" var="compra" 
                                 styleClass="table table-striped">
                        <h:column>
                            <f:facet name="header">ID Pedido</f:facet>
                            #{compra.idPedido}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Fecha</f:facet>
                            #{compra.fecha}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Total</f:facet>
                            $#{compra.total}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Estado</f:facet>
                            #{compra.estado}
                        </h:column>
                    </h:dataTable>
                </div>
            </h:form>
        </div>
    </h:body>
</html>
